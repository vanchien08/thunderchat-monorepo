{
  "services": {
    "auth": {
      "target": "http://localhost:4001",
      "healthCheck": "/health",
      "timeout": 10000,
      "routes": [
        {
          "path": "/auth",
          "rewrite": { "^/": "/api/auth/" },
          "changeOrigin": true
        }
      ]
    },
    "user": {
      "target": "http://localhost:4001",
      "healthCheck": "/health",
      "timeout": 10000,
      "routes": [
        {
          "path": "/user",
          "rewrite": { "^/": "/api/user/" },
          "changeOrigin": true
        },
        {
          "path": "/user-settings",
          "rewrite": { "^/": "/api/user-settings/" },
          "changeOrigin": true
        },
        {
          "path": "/user-report",
          "rewrite": { "^/": "/api/user-report/" },
          "changeOrigin": true
        },
        {
          "path": "/profile",
          "rewrite": { "^/": "/api/profile/" },
          "changeOrigin": true
        }
      ]
    },
    "friendship": {
      "target": "http://localhost:4001",
      "healthCheck": "/health",
      "timeout": 10000,
      "routes": [
        {
          "path": "/friend",
          "rewrite": { "^/": "/api/friend/" },
          "changeOrigin": true
        },
        {
          "path": "/friend-request",
          "rewrite": { "^/": "/api/friend-request/" },
          "changeOrigin": true
        }
      ]
    },
    "notification": {
      "target": "http://localhost:4004",
      "healthCheck": "/health",
      "timeout": 10000,
      "routes": [
        {
          "path": "/push-notification",
          "rewrite": { "^/": "/api/push-notification/" },
          "changeOrigin": true
        }
      ]
    },
    "voice-assistant": {
      "target": "http://localhost:4012",
      "healthCheck": "/health",
      "timeout": 10000,
      "routes": [
        {
          "path": "/voice-assistant",
          "rewrite": { "^/": "/api/voice-assistant/" },
          "changeOrigin": true
        }
      ]
    },
    "search": {
      "target": "http://localhost:4005",
      "healthCheck": "/health",
      "timeout": 15000,
      "routes": [
        {
          "path": "/search",
          "rewrite": { "^/": "/api/search/" },
          "changeOrigin": true
        },
        {
          "path": "/smart-search",
          "rewrite": { "^/": "/api/smart-search/" },
          "changeOrigin": true
        }
      ]
    },
    "chat": {
      "target": "http://localhost:4006",
      "healthCheck": "/health",
      "timeout": 30000,
      "routes": []
    },
    "media": {
      "target": "http://localhost:4007",
      "healthCheck": "/health",
      "timeout": 120000,
      "routes": [
        {
          "path": "/upload",
          "rewrite": { "^/": "/api/upload/" },
          "changeOrigin": true
        }
      ]
    },
    "call": {
      "target": "http://localhost:4008",
      "healthCheck": "/health",
      "timeout": 30000,
      "routes": []
    },
    "admin": {
      "target": "http://localhost:4009",
      "healthCheck": "/health",
      "timeout": 15000,
      "routes": [
        {
          "path": "/admin",
          "rewrite": { "^/": "/api/admin/" },
          "changeOrigin": true
        }
      ]
    },
    "conversation": {
      "target": "http://localhost:4010",
      "healthCheck": "/health",
      "timeout": 10000,
      "routes": [
        {
          "path": "/media-message",
          "rewrite": { "^/": "/api/media-message/" },
          "changeOrigin": true
        },
        {
          "path": "/sticker",
          "rewrite": { "^/": "/api/sticker/" },
          "changeOrigin": true
        },
        {
          "path": "/direct-chat",
          "rewrite": { "^/": "/api/direct-chat/" },
          "changeOrigin": true
        },
        {
          "path": "/group-chat",
          "rewrite": { "^/": "/api/group-chat/" },
          "changeOrigin": true
        },
        {
          "path": "/group-member",
          "rewrite": { "^/": "/api/group-member/" },
          "changeOrigin": true
        },
        {
          "path": "/message",
          "rewrite": { "^/": "/api/message/" },
          "changeOrigin": true
        },
        {
          "path": "/delete-message",
          "rewrite": { "^/": "/api/delete-message/" },
          "changeOrigin": true
        },
        {
          "path": "/pin",
          "rewrite": { "^/": "/api/pin/" },
          "changeOrigin": true
        },
        {
          "path": "/pin-conversation",
          "rewrite": { "^/": "/api/pin-conversation/" },
          "changeOrigin": true
        }
      ]
    }
  },
  "middleware": {
    "cors": {
      "enabled": true,
      "origins": ["http://localhost:3000", "http://localhost:3001", "https://yourdomain.com"],
      "credentials": true,
      "methods": ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"],
      "allowedHeaders": ["Content-Type", "Authorization", "X-Requested-With"]
    },
    "compression": {
      "enabled": true,
      "level": 6
    },
    "logging": {
      "enabled": true,
      "level": "info",
      "excludePaths": ["/api/healthcheck"]
    },
    "requestId": {
      "enabled": true,
      "header": "X-Request-ID"
    },
    "circuitBreaker": {
      "enabled": true,
      "threshold": 5,
      "timeout": 60000,
      "resetTimeout": 30000
    }
  },
  "loadBalancing": {
    "strategy": "round-robin",
    "healthCheckInterval": 30000,
    "retries": 3
  },
  "security": {
    "helmet": {
      "enabled": true
    },
    "rateLimitGlobal": {
      "enabled": true,
      "max": 1000,
      "windowMs": 60000
    },
    "ipWhitelist": {
      "enabled": false,
      "ips": []
    }
  },
  "monitoring": {
    "metrics": {
      "enabled": true,
      "path": "/metrics"
    },
    "tracing": {
      "enabled": true,
      "serviceName": "api-gateway"
    }
  }
}
